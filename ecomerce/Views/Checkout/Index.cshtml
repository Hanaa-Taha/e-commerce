@model ecomerce.Model.checkInfoWithCart

@using Microsoft.Extensions.Options
@inject IOptions<ecomerce.Data.StripeSettings> Stripe
@*

    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}



<!doctype html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.rtl.min.css" integrity="sha384-+qdLaIRZfNu4cVPK/PxJJEy0B0f3Ugv8i482AKY7gwXwhaCroABd086ybrVKTa0q" crossorigin="anonymous">

    <title>الدفع</title>
    @*<style >
        .stripe-button-el { 
            color:red
        }
    </style>*@
</head>

<body>
    <partial name="_header" />
    <div class="container">
        <main>
            <div class=" text-center">
                <img src="~/assets/img/pay.png" alt=" " width="200 " height="100 " class="d-inline-block align-text-top">
                <h2 class="text-success">الدفع</h2>
            </div>

            <div class="row g-3 ">
                <div class="col-md-5 col-lg-4 order-md-last ">
                    <h4 class="d-flex justify-content-between align-items-center mb-3 ">
                        <span class="text-success">عربة التسوق</span>
                        <span class="badge bg-success rounded-pill ">3</span>
                    </h4>
                    <ul class="list-group mb-3 ">
                        <li class="list-group-item d-flex justify-content-between lh-sm ">
                            <div>
                                <h6 class="my-0 ">اسم المنتج</h6>
                                <small class="text-muted ">وصف مختصر</small>
                            </div>
                            <span class="text-success ">$12</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between lh-sm ">
                            <div>
                                <h6 class="my-0 ">المنتج الثاني</h6>
                                <small class="text-muted ">وصف مختصر</small>
                            </div>
                            <span class="text-success ">$8</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between lh-sm ">
                            <div>
                                <h6 class="my-0 ">المنتج الثالث</h6>
                                <small class="text-muted ">وصف مختصر</small>
                            </div>
                            <span class="text-success ">$5</span>
                        </li>
                        @*<li class="list-group-item d-flex justify-content-between 1h-sm ">
                                <div>
                                    <h6 class="my-0 ">رمز ترويجي</h6>
                                    <small>CODE</small>
                                </div>
                                <span class="text-success ">-$5</span>
                            </li>*@
                        <li class="list-group-item d-flex justify-content-between ">
                            <span>مجموع (USD)</span>
                            <strong><span class="text-success ">$20</span></strong>
                        </li>
                    </ul>

                    <form class="card p-2 ">
                        <div class="input-group ">
                            <input type="text" class="form-control " placeholder="رمز ترويجي ">
                            <button type="submit" class="btn btn-success ">تحقق</button>
                        </div>
                    </form>
                </div>

                <div class="col-md-7 col-lg-8 ">
                    <h4 class="text-success mb-3 ">عنوان الطلب</h4>
                    <form class="needs-validation " novalidate asp-action="PostCartToItemDetails" enctype="multipart/form-data">
                        <div class="row g-3 ">
                            @*<div class="col-sm-6 ">
                                    <label for="firstName " class="form-label ">الاسم الأول</label>
                                    <input type="text " class="form-control " id="firstName " placeholder=" " value=" " required>
                                    <div class="invalid-feedback ">
                                        يرجى إدخال اسم أول صحيح.
                                    </div>
                                </div>

                                <div class="col-sm-6 ">
                                    <label for="lastName " class="form-label ">اسم العائلة</label>
                                    <input type="text " class="form-control " id="lastName " placeholder=" " value=" " required>
                                    <div class="invalid-feedback ">
                                        يرجى إدخال اسم عائلة صحيح.
                                    </div>
                                </div>*@

                            <div class="col-12 ">
                                <label for="username " class="form-label ">اسم المستخدم</label>
                                <div class="input-group has-validation ">
                                    <span class="input-group-text link-success "></span>
                                    <input type="text" class="form-control " id="username " placeholder="اسم المستخدم " required>
                                    <div class="invalid-feedback ">
                                        اسم المستخدم الخاص بك مطلوب.
                                    </div>
                                </div>
                            </div>

                            @*<div class="col-12 ">
                                    <label for="email " class="form-label ">
                                        البريد الإلكتروني <span class="text-muted ">(اختياري)</span>
                                    </label>
                                    <input type="email " class="form-control " id="email " placeholder="you@example.com ">
                                    <div class="invalid-feedback ">
                                        يرجى إدخال عنوان بريد إلكتروني صحيح لتصلكم تحديثات الشحن.
                                    </div>
                                </div>*@

                            <div class="col-12 ">
                                <label for="phone" class="form-label ">رقم الهاتف</label>
                                <input type="number" class="form-control " id="phone " placeholder="+201112131415 " required asp-for="checkoutInfo.phone">
                                <div class="invalid-feedback ">
                                    يرجى إدخال رقم الهاتف الخاص بك.
                                </div>
                            </div>

                            <div class="col-12 ">
                                <label for="address " class="form-label ">المحافظه </label>
                                <input type="text" class="form-control " id="address " asp-for="checkoutInfo.governorate" />
                            </div>

                            <div class="col-md-5 ">
                                <label for="country " class="form-label ">المدينه</label>
                                <input type="text" class="form-control " id="country " asp-for="checkoutInfo.city" />
                            </div>

                            <div class="col-md-4 ">
                                <label for="state " class="form-label ">الشارع</label>
                                <input type="text" class="form-control " id="state " asp-for="checkoutInfo.street" />
                            </div>

                            <div class="col-md-3 ">
                                <label for="district" class="form-label ">district</label>
                                <input type="text" class="form-control " id="district" asp-for="checkoutInfo.district" />
                            </div>

                            <div class="col-md-12 ">
                                <label for="SpecialMarque" class="form-label ">SpecialMarque</label>
                                <input type="text" class="form-control " id="SpecialMarque" asp-for="checkoutInfo.specialMarque" />
                            </div>
                            <div class="col-md-12 ">
                                <label for="propertyNumber" class="form-label ">propertyNumber</label>
                                <input type="number" class="form-control " id="propertyNumber" asp-for="checkoutInfo.propertyNumber" />
                            </div>

                        </div>

                        <hr class="my-4">

                        @*<div class="form-check">
                                <input type="checkbox" class="form-check-input" id="same-address">
                                <label class="form-check-label" for="same-address">
                                    عنوان الشحن هو نفس عنوان الفوترة الخاص
                                    بي
                                </label>
                            </div>

                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="save-info">
                                <label class="form-check-label" for="save-info">احفظ هذه المعلومات في المرة القادمة</label>
                            </div>*@


                        <hr class="my-4">

                        <h4 class="mb-3">طريقة الدفع</h4>

                        <div class="my-3">
                            <div class="form-check">
                                <input id="credit" name="paymentMethod" type="radio" class="form-check-input" checked required>
                                <label class="form-check-label" for="credit">بطاقة ائتمان</label>
                            </div>
                            @*<div class="form-check">
                                    <input id="cash" name="paymentMethod" type="radio" class="form-check-input" required>
                                    <label class="form-check-label" for="cash">نقد</label>
                                </div>*@
                            @*<div class="form-check">
                                    <input id="paypal" name="paymentMethod" type="radio" class="form-check-input" required>
                                    <label class="form-check-label" for="paypal">PayPal</label>
                                </div>*@
                        </div>

                        @*<div class="row gy-3 ">
                                <div class="col-md-6 ">
                                    <label for="cc-name " class="form-label ">الاسم على البطاقة</label>
                                    <input type="text" class="form-control " id="cc-name " placeholder=" " required>
                                    <small class="text-muted ">الاسم الكامل كما هو معروض على البطاقة</small>
                                    <div class="invalid-feedback ">
                                        الاسم على البطاقة مطلوب
                                    </div>
                                </div>

                                <div class="col-md-6 ">
                                    <label for="cc-number " class="form-label ">رقم البطاقة</label>
                                    <input type="text" class="form-control " id="cc-number " placeholder=" " required>
                                    <div class="invalid-feedback ">
                                        رقم بطاقة الائتمان مطلوب
                                    </div>
                                </div>

                                <div class="col-md-3 ">
                                    <label for="cc-expiration " class="form-label ">تاريخ انتهاء الصلاحية</label>
                                    <input type="text" class="form-control " id="cc-expiration " placeholder=" " required>
                                    <div class="invalid-feedback ">
                                        تاريخ انتهاء الصلاحية مطلوب
                                    </div>
                                </div>

                                <div class="col-md-3 ">
                                    <label for="cc-cvv " class="form-label ">الرمز الثلاثي (CVV)</label>
                                    <input type="text" class="form-control " id="cc-cvv " placeholder=" " required>
                                    <div class="invalid-feedback ">
                                        رمز الحماية مطلوب
                                    </div>
                                </div>
                            </div>*@



                        @*<hr class="my-4 ">
                        *@
                        <button class="w-100 btn btn-success btn-lg " type="submit">دفع</button>

                    </form>
                </div>
            </div>
        </main>

    </div>



    <div class="text-center">
        <form asp-action="Processing" asp-controller="Checkout" method="post">
            <article>
                <label><h4>السعر الكلي : @ViewBag.DollarAmount</h4></label>
            </article>
            <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
                    data-key="@Stripe.Value.PublishableKey"
                    data-amount="@ViewBag.total"
                    data-name="[Deveducate]"
                    data-description="Flower payments"
                    data-image="https://stripe.com/img/documentation/checkout/marketplace.png"
                    data-locale="en"
                    data-zip-code="true"></script>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js " integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p " crossorigin="anonymous "></script>

    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(".stripe-button-el span").remove();
            $("button.stripe-button-el").removeAttr('style').css({
                "display": "inline-block",
                "width": "50%",
                "padding": "10px",
                "background": "#198754",
                "color": "white",
                "font-size": "1.1em"
            }).html("دفع");
        });
    </script>


</body>

</html>





















@*<div class="text-center">
    <form asp-action="Processing" asp-controller="Checkout" method="post">
        <article>
            <label>@ViewBag.DollarAmount</label>
        </article>
        <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
                data-key="@Stripe.Value.PublishableKey"
                data-amount="@ViewBag.total"
                data-name="[Deveducate]"
                data-description="Flower payments"
                data-image="https://stripe.com/img/documentation/checkout/marketplace.png"
                data-locale="en"
                data-zip-code="true"></script>
    </form>
</div>*@